{% extends "dublinBus/base.html" %}
{% block title %}Test home page{% endblock %}
{% load static %}
{% block content %}
<div id="sidebar" class="sidebar">
  <a href="javascript:void(0)" class="closebtn" onclick="closeSidebar()">&times;</a>
  <div class="sidebar-content" id="sidebar_content">

  </div>
</div>

    <div id="content">
    <ul class="nav nav-tabs nav-fill fixed-bottom" role="tablist">
        <li class="nav-item" role="presentation"><a onclick="closeSidebar()" class="nav-link active" role="tab" data-bs-toggle="tab"
                                                    href="#tab-1"
                                                    style="border-color: var(--bs-dark);background: #819ca9;color: #f1f2f6;">Directions</a>
        </li>
        <li class="nav-item" role="presentation"
            style="border-color: var(--bs-dark);background: #819ca9;color: #f1f2f6;"><a onclick="closeSidebar()" class="nav-link" role="tab"
                                                                                        data-bs-toggle="tab"
                                                                                        href="#tab-2"
                                                                                        style="border-color: var(--bs-dark);background: #819ca9;color: #f1f2f6;">Routes</a>
        </li>
        <li class="nav-item" role="presentation"
            style="border-color: var(--bs-dark);background: #819ca9;color: #f1f2f6;"><a onclick="closeSidebar()" class="nav-link" role="tab"
                                                                                        data-bs-toggle="tab"
                                                                                        href="#tab-3"
                                                                                        style="border-color: var(--bs-dark);color: #f1f2f6;background: #819ca9;">Stops</a>
        </li>
    </ul>
    <div class="tab-content">
        <div class="tab-pane active" role="tabpanel" id="tab-1" style="text-align: center;">
            <div class="container" id="directions_input_container" style="padding: 5px">
{#                <span style="font-size:30px;cursor:pointer" onclick="openSidebar()">&#9776; open</span>#}
                <div class="input-group mb-3">
                    <input type="text" id="origin-input" class="form-control" placeholder="Enter origin location"
                           aria-label="origin input" aria-describedby="origin input">
                    <div class="input-group-append">

                        {#                        <span class="input-group-text" id="basic-addon1">@</span>#}
                        <button id="dir_from_user_location" class="btn btn-outline-secondary" type="button">Use current
                            location
                        </button>
                    </div>
                </div>

                <div class="input-group mb-3">
                    <input type="text" id="destination-input" class="form-control"
                           placeholder="Enter destination location"
                           aria-label="destination input" aria-describedby="destination input">
                </div>


                <div>
                    <input type="date" id="date_input">
                    <input type="time" id="time_input">
                </div>
                <div style="margin-bottom: 2%; margin-top: 2%">
                    <button class="btn btn-outline-secondary" id="user_input_directions_btn">Get directions and
                        predictions
                    </button>
                </div>
                <div class="row" id="results_container" style="display: block">

                </div>
            </div>
        </div>

                <div class="tab-pane" role="tabpanel" id="tab-2">
            {# Everything under this div will be the main content of the page (not the sidebar) #}
                <div class="container" id="route_input_container">
                    <div class="m-3 input-group">
                        <label for="routes_num"></label>
                        <input id="routes_num" list="routes" name="routes_num" class="form-control"
                               placeholder="Please enter route number">
                        <div class="input-group-append">
                            <button id="fav_routes_btn" class="btn btn-warning" type="button" data-toggle="canvas"
                                    data-target="#bs-canvas-left"
                                    aria-expanded="false" aria-controls="bs-canvas-left"  onclick='fillSidebar( "{{user.favourite_routes}}", "routes")'>See favourite routes</button>
                        </div>
                        <datalist id="routes">
                        </datalist>
                    </div>

                    <button class="btn btn-outline-secondary" id="get_directions" onclick="displaySelectedRoute">Give
                        route
                    </button>
                </div>
        </div>


        <div class="tab-pane" role="tabpanel" id="tab-3">
            <div class="container" id="stops_input_container">
                <div class="m-3 input-group">
                    <label for="stops_num"></label>
                    <input id="stops_num" list="stops" name="stops_num" class="form-control"
                           placeholder="Please enter stop number">
                    <div class="input-group-append">
                        <button id="fav_stops_btn" class="btn btn-warning" type="button" data-toggle="canvas" data-target="#bs-canvas-left"
                                aria-expanded="false" aria-controls="bs-canvas-left" onclick="fillSidebar( '{{user.favourite_stops}}', 'stops')">See favourite stops
                        </button>
                    </div>
                    <datalist id="stops">
                    </datalist>
                </div>
                <button class="btn btn-outline-secondary" id="get_stops">Give stops</button>
            </div>
        </div>


    </div>
    <div id="map"></div>
</div>
{% endblock %}

{% block scripts %}
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBSRvxpJp1Hfw0kbaL0Ul_Zz81fzasE1sI&callback=initMap&libraries=places&v=weekly"
            async></script>
    <script>
        // Make global variables for the logged in user so it can be accessed from scripts.js
        var fare_status = `{{ user.fare_status }}`
        var leap_card = Boolean(`{{ user.leap_card }}`)
    </script>
{% endblock %}
